<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="894px" preserveAspectRatio="none" style="width:1344px;height:894px;background:#FFFFFF;" version="1.1" viewBox="0 0 1344 894" width="1344px" zoomAndPan="magnify"><title>Creation of new short links</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="393.9551" x="472.8193" y="67.0703">Creation of new short links</text><ellipse cx="869.2163" cy="114.9766" fill="#222222" rx="20" ry="20" style="stroke:#222222;stroke-width:2;"/><polygon fill="#F1F1F1" points="787.0439,174.9766,951.3887,174.9766,975.3887,198.9766,951.3887,222.9766,787.0439,222.9766,763.0439,198.9766,787.0439,174.9766" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="164.3447" x="787.0439" y="207.291">User logged in?</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="34.9658" x="728.0781" y="194.3359">yes</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="27.167" x="975.3887" y="194.3359">no</text><rect fill="none" height="491.0156" style="stroke:#000000;stroke-width:3;" width="991.3281" x="22" y="242.9766"/><path d="M206.0215,242.9766 L206.0215,294.9297 L186.0215,314.9297 L22,314.9297" fill="none" style="stroke:#000000;stroke-width:3;"/><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="164.0215" x="28" y="272.0469">Create Link</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacing" textLength="113.4629" x="28" y="305.0234">Lambda</text><polygon fill="#F1F1F1" points="318.8223,348.9297,761.1211,348.9297,785.1211,372.9297,761.1211,396.9297,318.8223,396.9297,294.8223,372.9297,318.8223,348.9297" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="442.2988" x="318.8223" y="381.2441">Link already shortened by the same user?</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="34.9658" x="259.8564" y="368.2891">yes</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacing" textLength="27.167" x="785.1211" y="368.2891">no</text><rect fill="#F1F1F1" height="124.7969" rx="25" ry="25" style="stroke:#181818;stroke-width:1;" width="457.6445" x="46" y="416.9297"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="365.0977" x="66" y="460.1328">Generate new unique short link</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="417.6445" x="66" y="488.3984">an using DynamoDB atomic counter</text><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="238.2891" x="66" y="516.6641">and a random prefix</text><rect fill="#F1F1F1" height="68.2656" rx="25" ry="25" style="stroke:#181818;stroke-width:1;" width="279.2148" x="135.2148" y="581.7266"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="239.2148" x="155.2148" y="624.9297">Insert new short link</text><rect fill="#F1F1F1" height="68.2656" rx="25" ry="25" style="stroke:#181818;stroke-width:1;" width="336.4141" x="636.9141" y="416.9297"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="296.4141" x="656.9141" y="460.1328">Return existing short link</text><polygon fill="#F1F1F1" points="539.9717,661.9922,563.9717,685.9922,539.9717,709.9922,515.9717,685.9922,539.9717,661.9922" style="stroke:#181818;stroke-width:1;"/><rect fill="#F1F1F1" height="68.2656" rx="25" ry="25" style="stroke:#181818;stroke-width:1;" width="290.2656" x="1033.3281" y="242.9766"/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacing" textLength="250.2656" x="1053.3281" y="286.1797">Redirect to auth page</text><polygon fill="#F1F1F1" points="869.2163,745.9922,893.2163,769.9922,869.2163,793.9922,845.2163,769.9922,869.2163,745.9922" style="stroke:#181818;stroke-width:1;"/><ellipse cx="869.2163" cy="853.9922" fill="none" rx="20" ry="20" style="stroke:#222222;stroke-width:3;"/><line style="stroke:#222222;stroke-width:5;" x1="856.8419" x2="881.5907" y1="841.6178" y2="866.3666"/><line style="stroke:#222222;stroke-width:5;" x1="881.5907" x2="856.8419" y1="841.6178" y2="866.3666"/><line style="stroke:#181818;stroke-width:2;" x1="274.8223" x2="274.8223" y1="541.7266" y2="581.7266"/><polygon fill="#181818" points="266.8223,561.7266,274.8223,581.7266,282.8223,561.7266,274.8223,569.7266" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="294.8223" x2="274.8223" y1="372.9297" y2="372.9297"/><line style="stroke:#181818;stroke-width:2;" x1="274.8223" x2="274.8223" y1="372.9297" y2="416.9297"/><polygon fill="#181818" points="266.8223,396.9297,274.8223,416.9297,282.8223,396.9297,274.8223,404.9297" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="785.1211" x2="805.1211" y1="372.9297" y2="372.9297"/><line style="stroke:#181818;stroke-width:2;" x1="805.1211" x2="805.1211" y1="372.9297" y2="416.9297"/><polygon fill="#181818" points="797.1211,396.9297,805.1211,416.9297,813.1211,396.9297,805.1211,404.9297" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="274.8223" x2="274.8223" y1="649.9922" y2="685.9922"/><line style="stroke:#181818;stroke-width:2;" x1="274.8223" x2="515.9717" y1="685.9922" y2="685.9922"/><polygon fill="#181818" points="495.9717,677.9922,515.9717,685.9922,495.9717,693.9922,503.9717,685.9922" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="805.1211" x2="805.1211" y1="485.1953" y2="685.9922"/><line style="stroke:#181818;stroke-width:2;" x1="805.1211" x2="563.9717" y1="685.9922" y2="685.9922"/><polygon fill="#181818" points="583.9717,677.9922,563.9717,685.9922,583.9717,693.9922,575.9717,685.9922" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="763.0439" x2="539.9717" y1="198.9766" y2="198.9766"/><line style="stroke:#181818;stroke-width:2;" x1="539.9717" x2="539.9717" y1="198.9766" y2="348.9297"/><polygon fill="#181818" points="531.9717,328.9297,539.9717,348.9297,547.9717,328.9297,539.9717,336.9297" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="975.3887" x2="1178.4609" y1="198.9766" y2="198.9766"/><line style="stroke:#181818;stroke-width:2;" x1="1178.4609" x2="1178.4609" y1="198.9766" y2="242.9766"/><polygon fill="#181818" points="1170.4609,222.9766,1178.4609,242.9766,1186.4609,222.9766,1178.4609,230.9766" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="539.9717" x2="539.9717" y1="709.9922" y2="769.9922"/><line style="stroke:#181818;stroke-width:2;" x1="539.9717" x2="845.2163" y1="769.9922" y2="769.9922"/><polygon fill="#181818" points="825.2163,761.9922,845.2163,769.9922,825.2163,777.9922,833.2163,769.9922" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="1178.4609" x2="1178.4609" y1="311.2422" y2="769.9922"/><line style="stroke:#181818;stroke-width:2;" x1="1178.4609" x2="893.2163" y1="769.9922" y2="769.9922"/><polygon fill="#181818" points="913.2163,761.9922,893.2163,769.9922,913.2163,777.9922,905.2163,769.9922" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="869.2163" x2="869.2163" y1="134.9766" y2="174.9766"/><polygon fill="#181818" points="861.2163,154.9766,869.2163,174.9766,877.2163,154.9766,869.2163,162.9766" style="stroke:#181818;stroke-width:2;"/><line style="stroke:#181818;stroke-width:2;" x1="869.2163" x2="869.2163" y1="793.9922" y2="833.9922"/><polygon fill="#181818" points="861.2163,813.9922,869.2163,833.9922,877.2163,813.9922,869.2163,821.9922" style="stroke:#181818;stroke-width:2;"/><!--SRC=[PP31QiCm38RlVegVd58VTrmFWwqm1ZqDTkl5JPHKB95RMs4DO-y-EHbih3xO1dtwVY5b7GZLKwAW70MnWz07yYacnS3odYkNcs3CdNDPGrB77UgtJ0b3x7jgmVAmWPv8KC-KDmvspWRo8goyN-I4lTcyFuZt-p0Us-1zXS-5BiPIHHWCRUSrdiJanxceaSD8c2pqDkh-sS1K0ihWa_1beZ_p7oI8TRBqsCqInhXxHD0uSeCcJgAK2j4Y8DaJHvmJTNpThkuNiKpzjvArHaCcr19_fdWbdPA0hforXDtWqdAt_BwS- -srlfOJDGgD29EUR7KzRTsAs-tSDm00]--></g></svg>