<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="420px" preserveAspectRatio="none" style="width:672px;height:420px;background:#FFFFFF;" version="1.1" viewBox="0 0 672 420" width="672px" zoomAndPan="magnify"><defs/><g><ellipse cx="434.6082" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><polygon fill="#F1F1F1" points="393.522,50,475.6943,50,487.6943,62,475.6943,74,393.522,74,381.522,62,393.522,50" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82.1724" x="393.522" y="66.1572">User logged in?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.4829" x="364.0391" y="59.6797">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.5835" x="487.6943" y="59.6797">no</text><rect fill="none" height="245.5078" style="stroke:#000000;stroke-width:1.5;" width="495.6641" x="11" y="84"/><path d="M97.7949,84 L97.7949,109.9766 L87.7949,119.9766 L11,119.9766" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.7949" x="14" y="98.5352">Create Link</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6211" x="14" y="115.0234">Lambda</text><polygon fill="#F1F1F1" points="159.4111,136.9766,380.5605,136.9766,392.5605,148.9766,380.5605,160.9766,159.4111,160.9766,147.4111,148.9766,159.4111,136.9766" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="221.1494" x="159.4111" y="153.1338">Link already shortened by the same user?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17.4829" x="129.9282" y="146.6563">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.5835" x="392.5605" y="146.6563">no</text><rect fill="#F1F1F1" height="62.3984" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="228.8223" x="23" y="170.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182.5488" x="33" y="192.5781">Generate new unique short link</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="208.8223" x="33" y="206.7109">an using DynamoDB atomic counter</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119.1445" x="33" y="220.8438">and a random prefix</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="139.6074" x="67.6074" y="253.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119.6074" x="77.6074" y="274.9766">Insert new short link</text><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="168.207" x="318.457" y="170.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148.207" x="328.457" y="192.5781">Return existing short link</text><polygon fill="#F1F1F1" points="269.9858,293.5078,281.9858,305.5078,269.9858,317.5078,257.9858,305.5078,269.9858,293.5078" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="269.9858" cy="359.5078" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="263.7987" x2="276.173" y1="353.3206" y2="365.695"/><line style="stroke:#222222;stroke-width:2.5;" x1="276.173" x2="263.7987" y1="353.3206" y2="365.695"/><rect fill="#F1F1F1" height="34.1328" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="145.1328" x="516.6641" y="84"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="125.1328" x="526.6641" y="105.6016">Redirect to auth page</text><ellipse cx="434.6082" cy="399.5078" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="428.421" x2="440.7953" y1="393.3206" y2="405.695"/><line style="stroke:#222222;stroke-width:2.5;" x1="440.7953" x2="428.421" y1="393.3206" y2="405.695"/><line style="stroke:#181818;stroke-width:1;" x1="137.4111" x2="137.4111" y1="233.375" y2="253.375"/><polygon fill="#181818" points="133.4111,243.375,137.4111,253.375,141.4111,243.375,137.4111,247.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="147.4111" x2="137.4111" y1="148.9766" y2="148.9766"/><line style="stroke:#181818;stroke-width:1;" x1="137.4111" x2="137.4111" y1="148.9766" y2="170.9766"/><polygon fill="#181818" points="133.4111,160.9766,137.4111,170.9766,141.4111,160.9766,137.4111,164.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="392.5605" x2="402.5605" y1="148.9766" y2="148.9766"/><line style="stroke:#181818;stroke-width:1;" x1="402.5605" x2="402.5605" y1="148.9766" y2="170.9766"/><polygon fill="#181818" points="398.5605,160.9766,402.5605,170.9766,406.5605,160.9766,402.5605,164.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="137.4111" x2="137.4111" y1="287.5078" y2="305.5078"/><line style="stroke:#181818;stroke-width:1;" x1="137.4111" x2="257.9858" y1="305.5078" y2="305.5078"/><polygon fill="#181818" points="247.9858,301.5078,257.9858,305.5078,247.9858,309.5078,251.9858,305.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="402.5605" x2="402.5605" y1="205.1094" y2="305.5078"/><line style="stroke:#181818;stroke-width:1;" x1="402.5605" x2="281.9858" y1="305.5078" y2="305.5078"/><polygon fill="#181818" points="291.9858,301.5078,281.9858,305.5078,291.9858,309.5078,287.9858,305.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="269.9858" x2="269.9858" y1="317.5078" y2="349.5078"/><polygon fill="#181818" points="265.9858,339.5078,269.9858,349.5078,273.9858,339.5078,269.9858,343.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="381.522" x2="269.9858" y1="62" y2="62"/><line style="stroke:#181818;stroke-width:1;" x1="269.9858" x2="269.9858" y1="62" y2="136.9766"/><polygon fill="#181818" points="265.9858,126.9766,269.9858,136.9766,273.9858,126.9766,269.9858,130.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="487.6943" x2="589.2305" y1="62" y2="62"/><line style="stroke:#181818;stroke-width:1;" x1="589.2305" x2="589.2305" y1="62" y2="84"/><polygon fill="#181818" points="585.2305,74,589.2305,84,593.2305,74,589.2305,78" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="589.2305" x2="589.2305" y1="118.1328" y2="374.5078"/><line style="stroke:#181818;stroke-width:1;" x1="589.2305" x2="434.6082" y1="374.5078" y2="374.5078"/><line style="stroke:#181818;stroke-width:1;" x1="434.6082" x2="434.6082" y1="374.5078" y2="389.5078"/><polygon fill="#181818" points="430.6082,379.5078,434.6082,389.5078,438.6082,379.5078,434.6082,383.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="434.6082" x2="434.6082" y1="30" y2="50"/><polygon fill="#181818" points="430.6082,40,434.6082,50,438.6082,40,434.6082,44" style="stroke:#181818;stroke-width:1;"/><!--SRC=[PP11QiCm44NtEiKdA-SApQBG1aeXgq9ttIZMs1vgZr9fH6DAxzwHNCWYscYGtdzVAAjFwdX0zvufOOxZI04iZtleH89kfRnti7Kna9MZOFUSo2lXnFBv8IU_d8FVuQTHrLJFuMU3meeynQGa9ZslLOdi5qAnilkAXnS3KrKBVQC8VnNQ19XRbnTBiemuhkANU7o2rxXmZpuMKKgL2F18jiK5bqG3Nm-R-rMiKvlvfjpkQCw4JkB_Azv8InBGbRFMiZjS0Wzj-dKsE-Tk0Wi7JjGhDC8NdUpVHZguBTFeFm00]--></g></svg>